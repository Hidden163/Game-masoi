# Discord Werewolf
Discord Werewolf là một bot điều hành trò chơi Werewolf (Mafia) trên Discord. Nó được viết bằng Python bằng discord.py. Bạn có thể tìm thấy tôi trên Discord với tên belungawhale#4813.

## Thiết lập bot
Cài đặt Python 3.5 hoặc 3.6. Phiên bản Python mới nhất hoạt động là 3.6.8, có thể được cài đặt từ https://www.python.org/downloads/release/python-368/. Nếu bạn đang chạy trên Windows, hãy nhớ chọn hộp sẽ thêm Python vào PATH.

Sao chép kho lưu trữ này. Đổi tên `config.py.example` thành` config.py` và `settings.py.example` thành` settings.py` và điền vào các trường bên trong config.py. Để thay đổi một số cài đặt liên quan đến trò chơi, hãy chỉnh sửa settings.py.

## Sự phụ thuộc
Discord Werewolf có phụ thuộc khó khăn vào discord.py và aiohttp. Bạn có thể chạy `pip install -r request.txt` để cài đặt các phụ thuộc bắt buộc. Lưu ý rằng bot sử dụng phiên bản discord.py cũ hơn, nhưng có bản sửa lỗi bổ sung để phù hợp với bản cập nhật API của Discord.

## Chạy bot
Trước tiên, bạn phải tạo một tài khoản bot mới tại https://discordapp.com/developers/application/me. Đặt mã thông báo của bot bên trong config.py. Tiếp theo, thêm bot vào máy chủ của bạn bằng liên kết OAuth2 `https: //discordapp.com/oauth2/authorize? Client_id = CLIENT_ID & scope = bot & permissions = 8` để thiết lập nhanh hơn hoặc` https://discordapp.com/oauth2/authorize? client_id = CLIENT_ID & scope = bot & permissions = 268536848` để điều chỉnh các quyền tốt hơn, thay CLIENT_ID bằng id khách hàng. Nếu bạn đang chạy trên Windows, hãy chạy `python bot.py` hoặc nhấp đúp vào run.bat để khởi chạy tự động khởi động lại thông minh (nó sẽ khởi động lại bot nếu nó bị treo vì bất kỳ lý do gì). Nếu bạn đang chạy trên hệ thống dựa trên UNIX, hãy chạy `python3 bot.py` hoặc` python3.5 bot.py` hoặc `python3.6 bot.py`, tùy thuộc vào phiên bản Python mà bạn đang sử dụng.

## Changelog

29/11/2020 - Tín dụng cho Picowchew: Đã sửa lỗi chuyển hướng sai và vật tổ may mắn có khả năng đi sai hướng đến người chơi sai, bao gồm cả mục tiêu được chuyển hướng để chuyển hướng sai vật tổ có khả năng nằm cạnh người gọi lệnh trái ngược với mục tiêu ban đầu; Đã sửa lỗi nhóm người chơi gồm các mục tiêu được chuyển hướng do đi sai hướng và vật tổ may mắn, và dưới đây là một số lưu ý chính: {Nhóm người chơi không bao gồm người chơi có vật tổ may mắn; Succubus không thể nhận được một hành động có hại nếu kẻ gọi lệnh bị mê hoặc; Succubus có thể bị bắn, mặc dù nó sẽ không bao giờ chết bằng súng, theo cơ chế thông thường; Nhóm người chơi dành cho pháp sư, pháp sư điên cuồng và pháp sư sói không bao gồm bản thân họ cũng như không có succubus nếu họ bị mê hoặc (bất kể vật tổ của họ là gì); Nhóm người chơi cho pháp sư, pháp sư điên cuồng, pháp sư sói và thiên thần hộ mệnh không bao gồm những người chơi mà họ đã nhắm mục tiêu vào đêm trước; Mục tiêu sẽ không được chuyển hướng nếu không có \[khác \] mục tiêu tiềm năng}; Các điều kiện kiểm tra cho các mục tiêu hợp lệ giờ đây đều xảy ra trước khi kiểm tra việc đi sai hướng và vật tổ may mắn; Đã sửa lỗi do đêm có khả năng xảy ra và cố định có khả năng không kết thúc, với kết quả là số lượng giết ít hơn dự kiến, khi một con sói giết nhiều hơn một người chơi trong một đêm và con sói được đưa ra vật tổ sai hướng hoặc một hoặc nhiều mục tiêu có một vật tổ may mắn; Mục tiêu của Vengeful ghost giờ có thể bị ảnh hưởng bởi việc định hướng sai và vật tổ may mắn; Đã sửa lỗi vòng lặp trò chơi bị phá vỡ nếu một con ma báo thù có vật tổ định hướng sai và không hoạt động ban đêm của nó; Mục tiêu của kẻ giết người hàng loạt giờ có thể bị ảnh hưởng bởi vật tổ chuyển hướng sai; Đã sửa lỗi kẻ giết người hàng loạt được thông báo mục tiêu được chuyển hướng thay vì mục tiêu ban đầu khi nhắm mục tiêu ai đó bằng vật tổ may mắn; Đã sửa lỗi xảy ra khi một người chơi piper cố gắng quyến rũ người chơi bằng vật tổ may mắn; Nếu một cô gái bán hoa đi qua và sau đó cố gắng quyến rũ, thì bây giờ nó được cho biết rằng nó đã chọn không quyến rũ ai tối nay, trái ngược với việc được nói rằng nó đã quyến rũ tối nay; Nếu một người đàn bà đi qua và sau đó cố gắng vượt qua lần nữa, thì bây giờ sẽ không có phản hồi nào, trái ngược với việc được nói lại rằng nó đã chọn không quyến rũ ai tối nay; Nếu một piper không sử dụng hết khả năng ban đêm của nó, thì bây giờ nó được cho biết rằng nó đã chọn không quyến rũ bất kỳ ai tối nay, trái ngược với việc không có phản hồi, và đường chuyền này hiện đã được ghi lại; Nếu một người đàn ông bị bịt miệng đi qua và sau đó cố gắng quyến rũ, thì bây giờ nó được cho biết rằng nó đã chọn để không quyến rũ bất cứ ai tối nay, trái ngược với việc được cho biết rằng nó đã bị câm lặng; Đã sửa lỗi thiên thần hộ mệnh nhắm mục tiêu một người chơi đã chết, cho phép nó nhắm mục tiêu vào chính người mà nó đã làm vào đêm trước; Đã sửa lỗi pháp sư sói có thể tặng vật tổ cho cùng một người vào các đêm liên tiếp; Đã sửa lỗi pháp sư sói có thể đưa một vật tổ có hại cho một Succubus khi nó bị mê hoặc; Pháp sư sói im lặng bây giờ được nói với vật tổ rằng nó sẽ có thể đưa ra nếu nó không bị im lặng; Vật tổ của Crazed shaman hiện luôn được ghi lại, bất kể bị tắt tiếng; Đã sửa lỗi pháp sư và pháp sư điên cuồng không thể đưa vật tổ có hại của họ cho người chơi khác nếu trong cùng một đêm, trước đó họ đã đưa vật tổ của mình cho một succubus và sau đó succubus đã mê hoặc họ; Giả mạo mê hoặc
